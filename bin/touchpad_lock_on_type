#!/bin/bash

# script to toggle touchpad feature "lock on type". By default it's enabled,
# but in games it more comfortable to be disabled

if [ -z "$1" ]; then
    echo "Usage: $0 {1|0}"

    exit 1
fi

device_id=$(xinput list | \
    rg -o "Touchpad.*id=\d+" | cut -d = -f 2)
echo "device_id: $device_id"

prop_id=$(xinput list-props $device_id | \
    rg -o "Disable While Typing Enabled \(\d+" | \
    cut -d \( -f 2)
echo "prop_id: $prop_id"

xinput set-prop $device_id $prop_id $1
